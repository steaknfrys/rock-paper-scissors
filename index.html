<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <h1>Rock Paper Scissors</h1>

    <script type="text/javascript">

      //Decideing what the computer will pick
      function computerPlay() {
        let pick = Math.floor(Math.random()*3)+1;
        let selection
        if (pick == 1) {
          selection = "ROCK";
        } else if (pick == 2) {
          selection = "PAPER";
        } else {
          selection = "SCISSORS";
        }
        return selection;
      }

      //Determining if the user winds the round 1 for win, -1 for loss, 0 for draw
      function roundResult(round) {
        switch (round) {
          case "Draw!":
            return 0;
          case "You Lose! Paper covers rock!":
          case "You Lose! Scissors cut paper":
          case "You Lose! Rock smashes scissors!":
            return -1;
          case "You Win! Rock smashes scissors!":
          case "You Win! Paper covers rock!":
          case "You Win! Scissors cut paper!":
            return 1;
          default:
            console.log("errror");
            break;
        }
      }

      //A five round game of rock paper scissors
      function game() {
        let score=0;

        for (let i = 0; i < 5; i++) {
          let playerChoice = prompt('Rock, Paper or Scissors?');
          playerChoice = playerChoice.toUpperCase();
          let result = playRound(playerChoice, computerPlay());
          console.log(result);
          //findResult(result);
          score += roundResult(result);
          }

        //checking if the user wins the 5 game series or not
        if (score>0) {
          console.log("YOU WIN");
        } else if (score<0) {
          console.log("YOU LOSE");
        } else {
          console.log("game ended in a draw :(");
        }
      }



      //Spits out a string based on the player and computer selection
      function playRound (playerSelection, computerSelection) {
        playerSelection=playerSelection.toUpperCase();
        switch (playerSelection){
          case "ROCK":
            if (computerSelection == "ROCK") {
              return "Draw!"
            } else if (computerSelection == "PAPER") {
              return "You Lose! Paper covers rock!";
            } else return "You Win! Rock smashes scissors!";
          case "PAPER":
          if (computerSelection == "ROCK") {
            return "You Win! Paper covers rock!"
          } else if (computerSelection == "PAPER") {
            return "Draw!"
          } else return "You Lose! Scissors cut paper"

          case "SCISSORS":
          if (computerSelection == "ROCK") {
            return "You Lose! Rock smashes scissors!"
          } else if (computerSelection == "PAPER") {
            return "You Win! Scissors cut paper!"
          } else return "Draw!"

          default:
            return "not a valid entry"
        }
      }
    </script>
  </body>
</html>
